To run these scripts you will need to have completed mdsetup successfully, and have working installations of CHARMM and ALF, the pathways to these programs are listed in RunSetup.sh.

SubSetup.sh is a bash script used to submit RunSetup.sh to the slurm queue. RunSetup.sh creates the prep directory required to run the CHARMM script 4SetupBlock.inp. The CHARMM script 4SetupBlock.inp streams in the system specific file T16.inp. To use a different file name, edit the name variable in RunSetup.sh. The T160.inp file is included in this directory to illustrate the changes required to convert from an md script (T160.inp) to an msld script (T16.inp). These changes are described in more detail in aa_stream/README.

T160.inp is a modification of step5_production.inp from mdcharmmgui/charmm-gui-changes. To work with ALF, all system-specific files should be in a directory called prep, so T160.inp has been modified to look for all files in prep. The toppar.str and toppar file and directory have been modified not to read in all the superfluous files that come with CHARMM-GUI, and to look for the results in the prep directory. There are several files from mdcharmmgui that are needed, so these files have been copied. The restart file saved as a result of step4_equilibration and initial step5_production is also required. It was saved in mdcharmmgui/charmm-gui-results as step5_1.rst, and copied here.

You'll also need to edit alchemical_definitions.inp as described in the aa_stream/README file to set up the mutations you want in your system. alf_info.py should also be edited to include the name of your system, and it depends on a file called nsubs that lists the number of substituents at each site, this file should match the number of mutations described in alchemical_definitions.inp.

You can check a file called outrun to see if the setup completed successfully. The resulting files will be in a directory called prep that you can copy into an ALF directory to begin flattening.
